{"mappings":"AAAA,IAAMA,UAAYC,SAASC,eAAe,SACpCC,MAAQF,SAASC,eAAe,SAChCE,YAAcH,SAASC,eAAe,iBACtCG,SAAWJ,SAASC,eAAe,iBACnCI,WAAaL,SAASC,eAAe,gBAErCK,OAASC,KACTC,SAAW,GACXC,eAAiB,GAEvB,SAASC,oBACP,MAAO,IAAsDC,OAAlDC,KAAKC,MAAsB,SAAhBD,KAAKE,UAAqBC,SAAS,I,CAG3D,IAAMC,OAAS,SAACC,EAAMC,GACpBD,EAAKE,UAAY,GACjB,IAAMC,EAAWpB,SAASqB,yBAE1BH,EAASI,SAAQ,SAACC,GAChBH,EAASI,YAAYD,E,IAGvBN,EAAKO,YAAYJ,E,EAGbK,qBAAuB,SAAAC,G,IAAGC,EAAID,EAAJC,KAAMC,EAAOF,EAAPE,QAC9BC,EAAU7B,SAAS8B,cAAc,OACvCD,EAAQE,UAAUC,IAAI,iBACtBH,EAAQI,YAAcN,EAEtB,IAAMO,EAAalC,SAAS8B,cAAc,OAC1CI,EAAWH,UAAUC,IAAI,oBACzBE,EAAWD,YAAcL,EAEzB,IAAMO,EAAanC,SAAS8B,cAAc,OAC1CK,EAAWJ,UAAUC,IAAI,iBAEzBG,EAAWX,YAAYK,GACvBM,EAAWX,YAAYU,GAEnB1B,SAAS4B,QAAQD,GAAc1B,gBACjCD,SAAS6B,MAGXrB,OAAOd,MAAOM,S,EAGV8B,kBAAoB,SAACC,GACzB,IAAMC,EAAcC,OAAOC,OAAOH,GAAMI,KAAI,SAACC,GAC3C,IAAMC,EAAK7C,SAAS8B,cAAc,MAGlC,OAFAe,EAAGd,UAAUC,IAAI,eACjBa,EAAGZ,YAAcW,EACVC,C,IAET7B,OAAOjB,UAAWyC,E,EAGdM,cAAgB,SAACC,GACH,KAAdA,EAAEC,SACJC,iB,EAIEA,gBAAkB,WACtB,IAAItB,EAAOvB,SAAS8C,MACdtB,EAAUzB,YAAY+C,MAEZ,KAAZtB,GAA2B,KAATD,IAItBrB,OAAO6C,KAAK,UAAW,CACrBvB,UACAD,SAGFxB,YAAY+C,MAAQ,GACpB/C,YAAYiD,Q,EAGd/C,WAAWgD,iBAAiB,QAASJ,iBACrC9C,YAAYkD,iBAAiB,QAASP,eAEtCxC,OAAOgD,GAAG,OAAQhB,mBAClBhC,OAAOgD,GAAG,UAAW7B","sources":["public/main.js"],"sourcesContent":["const usersList = document.getElementById(\"users\");\nconst board = document.getElementById(\"board\");\nconst userMessage = document.getElementById(\"message__text\");\nconst userName = document.getElementById(\"message__name\");\nconst sendButton = document.getElementById(\"message__btn\");\n\nconst socket = io();\nconst messages = [];\nconst LIMIT_MESSAGES = 10;\n\nfunction getRandomHexColor() {\n  return `#${Math.floor(Math.random() * 16777215).toString(16)}`;\n}\n\nconst render = (body, elements) => {\n  body.innerHTML = \"\";\n  const fragment = document.createDocumentFragment();\n\n  elements.forEach((element) => {\n    fragment.appendChild(element);\n  });\n\n  body.appendChild(fragment);\n};\n\nconst renderListOfMessages = ({ name, message }) => {\n  const divName = document.createElement(\"div\");\n  divName.classList.add(\"display__name\");\n  divName.textContent = name;\n\n  const divMessage = document.createElement(\"div\");\n  divMessage.classList.add(\"display__message\");\n  divMessage.textContent = message;\n\n  const divWrapper = document.createElement(\"div\");\n  divWrapper.classList.add(\"chat__display\");\n\n  divWrapper.appendChild(divName);\n  divWrapper.appendChild(divMessage);\n\n  if (messages.unshift(divWrapper) > LIMIT_MESSAGES) {\n    messages.pop();\n  }\n\n  render(board, messages);\n};\n\nconst renderListOfUsers = (data) => {\n  const userElement = Object.values(data).map((user) => {\n    const li = document.createElement(\"li\");\n    li.classList.add(\"users__item\");\n    li.textContent = user;\n    return li;\n  });\n  render(usersList, userElement);\n};\n\nconst pressEnterKey = (e) => {\n  if (e.keyCode === 13) {\n    sendUserMessage();\n  }\n};\n\nconst sendUserMessage = () => {\n  let name = userName.value;\n  const message = userMessage.value;\n\n  if (message === \"\" || name === \"\") {\n    return;\n  }\n\n  socket.emit(\"message\", {\n    message,\n    name,\n  });\n\n  userMessage.value = \"\";\n  userMessage.focus();\n};\n\nsendButton.addEventListener(\"click\", sendUserMessage);\nuserMessage.addEventListener(\"keyup\", pressEnterKey);\n\nsocket.on(\"user\", renderListOfUsers);\nsocket.on(\"message\", renderListOfMessages);\n"],"names":["usersList","document","getElementById","board","userMessage","userName","sendButton","socket","io","messages","LIMIT_MESSAGES","getRandomHexColor","concat","Math","floor","random","toString","render","body","elements","innerHTML","fragment","createDocumentFragment","forEach","element","appendChild","renderListOfMessages","param","name","message","divName","createElement","classList","add","textContent","divMessage","divWrapper","unshift","pop","renderListOfUsers","data","userElement","Object","values","map","user","li","pressEnterKey","e","keyCode","sendUserMessage","value","emit","focus","addEventListener","on"],"version":3,"file":"index.d2157163.js.map"}